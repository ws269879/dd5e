<header class="page-header">
  <div class="o-grid">
    <div class="page-header__title">
      <div style="display: flex; flex-direction: row">
        <a routerLink="/app/races"
           matTooltip="Back to all races"
           mat-icon-button
           aria-label="Back"
        >
          <mat-icon>keyboard_backspace</mat-icon>
        </a>
        <app-skeleton [isLoading]="!details" [theme]="{height: '40px', width: '70px'}">
          <h1 *ngIf="details">{{details.name}}</h1>
        </app-skeleton>
      </div>
    </div>
  </div>
</header>

<div class="page-content">
  <div class="o-grid" style="padding-top: 0">
    <h2>Overview</h2>
    <app-skeleton [isLoading]="!details" [theme]="{height: '50vh', width: '100%'}">
      <mat-accordion *ngIf="details" multi>
        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title>
              Details
            </mat-panel-title>
          </mat-expansion-panel-header>
          <mat-list>
            <mat-list-item>
              <mat-divider></mat-divider>
              <div style="width: 100%; display: flex; flex-direction: column;">
                <p><b>Age:</b></p>
                <p>{{details.age}}</p>
              </div>
            </mat-list-item>
            <mat-list-item>
              <mat-divider></mat-divider>
              <div style="width: 100%; display: flex; flex-direction: column;">
                <p><b>Size:</b> {{details.size}}</p>
                <p>{{details.size_description}}</p>
              </div>
            </mat-list-item>
            <mat-list-item>
              <mat-divider></mat-divider>
              <div style="width: 100%; display: flex; flex-direction: column;">
                <p><b>Alignment:</b></p>
                <p>{{details.alignment}}</p>
              </div>
            </mat-list-item>
            <mat-list-item>
              <mat-divider></mat-divider>
              <div style="width: 100%; display: flex; flex-direction: row; justify-content: space-between;">
                <p><b>Speed:</b></p>
                <p>{{details.speed}} ft</p>
              </div>
            </mat-list-item>
          </mat-list>
        </mat-expansion-panel>

        <mat-expansion-panel *ngIf="details.ability_bonuses && details.ability_bonuses.length > 0">
          <mat-expansion-panel-header>
            <mat-panel-title>
              Ability Bonuses
            </mat-panel-title>
          </mat-expansion-panel-header>
          <mat-list>
            <mat-list-item *ngFor="let abilityBonus of details.ability_bonuses">
              <mat-divider></mat-divider>
              <div style="width: 100%; display: flex; flex-direction: row; justify-content: space-between;">
                <p>{{abilityBonus.ability_score.name}}:</p>
                <p>{{abilityBonus.bonus}}</p>
              </div>
            </mat-list-item>
          </mat-list>
        </mat-expansion-panel>

        <mat-expansion-panel *ngIf="details.starting_proficiencies && details.starting_proficiencies.length > 0">
          <mat-expansion-panel-header>
            <mat-panel-title>
              Proficiencies
            </mat-panel-title>
          </mat-expansion-panel-header>
          <mat-list>
            <mat-list-item *ngFor="let proficiency of details.starting_proficiencies">
              <mat-divider></mat-divider>
              <p>{{proficiency.name}}</p>
            </mat-list-item>
          </mat-list>
        </mat-expansion-panel>

        <mat-expansion-panel *ngIf="details.languages && details.languages.length > 0" l>
          <mat-expansion-panel-header>
            <mat-panel-title>
              Languages
            </mat-panel-title>
          </mat-expansion-panel-header>
          <p>{{details.language_desc}}</p>
          <mat-divider style="padding-bottom: 0 !important;"></mat-divider>
          <mat-list>
            <mat-list-item *ngFor="let lang of details.languages">
              <mat-divider></mat-divider>
              <p>{{lang.name}}</p>
            </mat-list-item>
          </mat-list>
        </mat-expansion-panel>

        <mat-expansion-panel *ngIf="details.traits && details.traits.length > 0" l>
          <mat-expansion-panel-header>
            <mat-panel-title>
              Traits
            </mat-panel-title>
          </mat-expansion-panel-header>
          <mat-list>
            <mat-list-item *ngFor="let trait of details.traits">
              <mat-divider></mat-divider>
              <p>{{trait.name}}</p>
            </mat-list-item>
          </mat-list>
        </mat-expansion-panel>

      </mat-accordion>
    </app-skeleton>
  </div>
</div>


